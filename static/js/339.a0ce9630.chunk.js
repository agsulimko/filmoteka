"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[339],{6713:function(e,n,t){t.d(n,{Cb:function(){return s},Fb:function(){return f},IQ:function(){return i},Jh:function(){return p},UF:function(){return o},WY:function(){return l}});var r=t(5861),a=t(4687),u=t.n(a),c=t(5294);c.Z.defaults.baseURL="https://api.themoviedb.org/",c.Z.defaults.params={api_key:"0649efc971b913d6bfebf656f94b5c92"};var s=function(){var e=(0,r.Z)(u().mark((function e(n,t){var r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.Z)("3/trending/movie/day",{params:{page:n,language:t}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)(u().mark((function e(n,t){var r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.Z)("3/movie/".concat(n),{params:{language:t}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),i=function(){var e=(0,r.Z)(u().mark((function e(n,t){var r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.Z)("3/movie/".concat(n,"/credits"),{params:{language:t}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(u().mark((function e(n,t){var r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.Z)("3/movie/".concat(n,"/reviews"),{params:{language:t}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(u().mark((function e(n,t){var r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.Z)("3/movie/".concat(n,"/videos"),{params:{language:t}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(u().mark((function e(n,t,r){var a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.Z)("3/search/movie",{params:{page:t,query:"".concat(n),language:r}});case 2:return a=e.sent,s=a.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}()},8339:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var r,a=t(5861),u=t(9439),c=t(4687),s=t.n(c),o=t(2791),i=t(6713),p=t(7689),l=t(1087),f="Home_homeMovies__WfhNE",d="Home_home__uEIM2",v="Home_home_div__fc6iF",m="Home_pagination__e2Qaa",h="Home_span_pagination__pgU+v",g="Home_selectedLanguage__3B7bq",x=t(168),_=t(5216).ZP.select(r||(r=(0,x.Z)(["\n  /* background-color: ",";*/\n"])),(function(e){return e.isDarkTheme?"green":"red"})),b=t(184),w=function(){var e=(0,p.TH)(),n=(0,o.useState)([]),t=(0,u.Z)(n,2),r=t[0],c=t[1],x=(0,o.useState)(1),w=(0,u.Z)(x,2),k=w[0],Z=w[1],j=(0,o.useState)(1),y=(0,u.Z)(j,2),N=y[0],S=y[1],U=(0,o.useState)(localStorage.getItem("selectedLanguage")||"en-US"),E=(0,u.Z)(U,2),C=E[0],H=E[1],L=function(){var e=(0,a.Z)(s().mark((function e(n,t){var r,a,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.Cb)(n,t);case 3:r=e.sent,a=r.results,u=r.total_pages,c(a),S(u),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n,t){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){localStorage.setItem("selectedLanguage",C),L(k,C);var e=function(e){"selectedLanguage"===e.key&&H(e.newValue)};return window.addEventListener("storage",e),function(){window.removeEventListener("storage",e)}}),[C]),(0,o.useEffect)((function(){L(k,C)}),[k,C]);return(0,b.jsxs)("div",{className:f,children:[(0,b.jsxs)(_,{value:C,onChange:function(e){return H(e.target.value)},className:g,children:[(0,b.jsx)("option",{value:"en-US",children:"En"}),(0,b.jsx)("option",{value:"de-DE",children:"De"}),(0,b.jsx)("option",{value:"uk-UA",children:"Uk"}),(0,b.jsx)("option",{value:"ru-RU",children:"Ru"}),(0,b.jsx)("option",{value:"ar-SA",children:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"})]}),(0,b.jsx)("h1",{children:"Trending today"}),(0,b.jsx)("div",{className:d,children:r.map((function(n,t){return(0,b.jsx)(l.rU,{to:"".concat(n.id),state:{from:e},children:(0,b.jsxs)("div",{className:v,children:[(0,b.jsx)("img",{className:"center-block img-responsive",width:"150px",height:"100%",src:"https://image.tmdb.org/t/p/w500/".concat(n.poster_path),alt:n.title,"data-reactid":".1.1.0.0.1.0.0.0"},"movie-poster"),"".concat(n.title," (").concat(n.release_date.slice(0,4),")")]})},t)}))}),(0,b.jsxs)("div",{className:m,children:[(0,b.jsx)("button",{onClick:function(){Z((function(e){return e-1}))},disabled:1===k,children:"Previous"}),(0,b.jsxs)("span",{className:h,children:["Page ",k," of ",N]}),(0,b.jsx)("button",{onClick:function(){Z((function(e){return e+1}))},disabled:k===N,children:"Next"})]})]})}}}]);
//# sourceMappingURL=339.a0ce9630.chunk.js.map