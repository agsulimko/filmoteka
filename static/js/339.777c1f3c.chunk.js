"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[339],{6713:function(e,n,t){t.d(n,{Cb:function(){return u},Fb:function(){return f},IQ:function(){return s},Jh:function(){return l},UF:function(){return i},WY:function(){return p}});var r=t(5861),a=t(4687),c=t.n(a),o=t(5294);o.Z.defaults.baseURL="https://api.themoviedb.org/",o.Z.defaults.params={api_key:"0649efc971b913d6bfebf656f94b5c92"};var u=function(){var e=(0,r.Z)(c().mark((function e(n,t){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Z)("3/trending/movie/day",{params:{page:n,language:t}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),i=function(){var e=(0,r.Z)(c().mark((function e(n,t){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Z)("3/movie/".concat(n),{params:{language:t}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),s=function(){var e=(0,r.Z)(c().mark((function e(n,t){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Z)("3/movie/".concat(n,"/credits"),{params:{language:t}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(c().mark((function e(n,t){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Z)("3/movie/".concat(n,"/reviews"),{params:{language:t}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(n,t){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Z)("3/movie/".concat(n,"/videos"),{params:{language:t}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(c().mark((function e(n,t,r){var a,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Z)("3/search/movie",{params:{page:t,query:"".concat(n),language:r}});case 2:return a=e.sent,u=a.data,e.abrupt("return",u);case 5:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}()},8339:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var r,a,c=t(3433),o=t(5861),u=t(9439),i=t(4687),s=t.n(i),l=t(2791),p=t(6713),f=t(7689),d=t(1087),h="Home_homeMovies__WfhNE",v="Home_home__uEIM2",m="Home_home_div__fc6iF",g="Home_selectedLanguage__3B7bq",x=t(168),b=t(5216),w=b.ZP.select(r||(r=(0,x.Z)(["\n  /* background-color: ",";*/\n  z-index: 100000;\n"])),(function(e){return e.isDarkTheme?"green":"red"})),Z=b.ZP.button(a||(a=(0,x.Z)(["\n  position: fixed;\n  bottom: 40px;\n  right: 40px;\n  display: ",";\n  /* display: ","; */\n  background-color: #3470ff;\n  color: white;\n  border: none;\n  border-radius: 50%;\n  width: 50px;\n  height: 50px;\n  cursor: pointer;\n  font-size: 24px;\n  line-height: 50px;\n  text-align: center;\n  z-index: 1000;\n"])),(function(e){return e.$visible?"block":"none"}),(function(e){return e.visible?"block":"none"})),k=t(184),_=function(){var e=(0,f.TH)(),n=(0,l.useState)([]),t=(0,u.Z)(n,2),r=t[0],a=t[1],i=(0,l.useState)(1),x=(0,u.Z)(i,2),b=x[0],_=x[1],j=(0,l.useState)(localStorage.getItem("selectedLanguage")||"en-US"),y=(0,u.Z)(j,2),E=y[0],S=y[1],U=(0,l.useState)(!1),H=(0,u.Z)(U,2),C=H[0],L=H[1],N=(0,l.useState)(!0),T=(0,u.Z)(N,2),I=T[0],z=T[1],D=(0,l.useState)(!1),F=(0,u.Z)(D,2),R=F[0],q=F[1],A=function(){var e=(0,o.Z)(s().mark((function e(n,t){var r,o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.prev=1,e.next=4,(0,p.Cb)(n,t);case 4:r=e.sent,o=r.results,u=r.total_pages,a(1===n?o:function(e){return[].concat((0,c.Z)(e),(0,c.Z)(o))}),z(n<u),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0.message);case 14:return e.prev=14,L(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(n,t){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){localStorage.setItem("selectedLanguage",E),_(1),a([])}),[E]),(0,l.useEffect)((function(){A(b,E)}),[b,E]),(0,l.useEffect)((function(){var e=function(){window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-100&&!C&&I&&_((function(e){return e+1})),window.scrollY>300&&r.length>40?q(!0):q(!1)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[C,I,r.length]);return(0,k.jsxs)("div",{className:h,children:[(0,k.jsx)("div",{children:(0,k.jsxs)(w,{value:E,onChange:function(e){return S(e.target.value)},className:g,children:[(0,k.jsx)("option",{value:"en-US",children:"En"}),(0,k.jsx)("option",{value:"de-DE",children:"De"}),(0,k.jsx)("option",{value:"uk-UA",children:"Uk"}),(0,k.jsx)("option",{value:"ru-RU",children:"Ru"}),(0,k.jsx)("option",{value:"ar-SA",children:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"})]})}),(0,k.jsx)("h1",{children:"Trending today"}),(0,k.jsx)("div",{className:v,children:r.map((function(n,t){return(0,k.jsx)(d.rU,{to:"".concat(n.id),state:{from:e},children:(0,k.jsxs)("div",{className:m,children:[(0,k.jsx)("img",{className:"center-block img-responsive",width:"150px",height:"100%",src:"https://image.tmdb.org/t/p/w500/".concat(n.poster_path),alt:n.title}),"".concat(n.title," (").concat(n.release_date.slice(0,4),")")]})},"".concat(n.id,"-").concat(t))}))}),(0,k.jsx)(Z,{$visible:R,onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:"\u2191"})]})}}}]);
//# sourceMappingURL=339.777c1f3c.chunk.js.map